/* Room Background Animation - Sliding Diagonals
 * Based on: https://codepen.io/chris22smith/pen/RZogMa
 * Dark purple-pink palette matching lobby theme
 */

/* Background for room page */
body.room-page {
  margin: 0;
  background: #0d0d0d;
}

/* Sliding diagonal background layers */
.room-bg {
  animation: room-slide 3s ease-in-out infinite alternate;
  background-image: linear-gradient(-60deg, #2d0a3e 50%, #1a0b1f 50%);
  bottom: 0;
  left: -50%;
  opacity: 0.6;
  position: fixed;
  right: -50%;
  top: 0;
  z-index: -1;
}

.room-bg-2 {
  animation-direction: alternate-reverse;
  animation-duration: 4s;
  background-image: linear-gradient(-60deg, #3d1552 50%, #2d0a3e 50%);
}

.room-bg-3 {
  animation-duration: 5s;
  background-image: linear-gradient(-60deg, #4a1966 50%, #3d1552 50%);
}

@keyframes room-slide {
  0% {
    transform: translateX(-25%);
  }
  100% {
    transform: translateX(25%);
  }
}

/* Ensure room content sits above the background */
.header,
.panel,
.instrument-card {
  position: relative;
  z-index: 1;
}

/* Performance optimizations for mobile devices */
@media screen and (max-width: 1024px) {
  /* Reduce number of animated background layers */
  .room-bg-2,
  .room-bg-3 {
    display: none;
  }

  /* Simplify animation for remaining layer */
  .room-bg {
    animation-duration: 5s;
    opacity: 0.4;
  }
}

/* Disable animations on very small devices */
@media screen and (max-width: 768px) {
  .room-bg,
  .room-bg-2,
  .room-bg-3 {
    animation: none;
    background-image: linear-gradient(-60deg, #2d0a3e 50%, #1a0b1f 50%);
  }
}

/* Respect reduced motion preference */
@media (prefers-reduced-motion: reduce) {
  .room-bg,
  .room-bg-2,
  .room-bg-3 {
    animation: none;
  }
}
